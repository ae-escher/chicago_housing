?read_excel
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
library(tidyverse)
library(stargazer)
library(readxl)
library(knitr)
library(lubridate)
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
View(chicago_purchases)
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
View(redlining_score)
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
View(chicago_purchases)
View(chicago_census_tracts)
summary(chicago_census_tracts)
summary("chicago_purchases")
chicago_purchases <- chicago_purchases %>% mutate(census_tract_trimmed = as.numeric(`Census Tract`))
View(chicago_purchases)
summary(chicago_purchases)
View(chicago_purchases)
summary(chicago_purchases)
View(chicago_purchases)
chicago_purchases <- chicago_purchases %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11)
chicago_purchases <- chicago_purchases %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
library(tidyverse)
library(stargazer)
library(readxl)
library(knitr)
library(lubridate)
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
View(chicago_purchases)
chicago_purchases <- chicago_purchases %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
View(chicago_purchases)
library(dplyr)
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
View(chicago_purchases)
chicago_purchases <- chicago_purchases %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
summary(chicago_purchases)
chicago_purchases <- chicago_purchases %>%
select = -c("Denial Reason 3", "Denial Reason 2", "Denial Reason 1", "Co Applicant Race 5", "Co Applicant Race 4", "Co Applicant Race 3", "Co Applicant Race 2") %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
chicago_purchases <- chicago_purchases %>%
select = -c("Denial Reason 3", "Denial Reason 2", "Denial Reason 1") %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
chicago_purchases <- chicago_purchases %>%
subset(select = -c("Denial Reason 3", "Denial Reason 2", "Denial Reason 1", "Co Applicant Race 5", "Co Applicant Race 4", "Co Applicant Race 3", "Co Applicant Race 2")) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
chicago_purchases <- chicago_purchases %>%
subset(select =-c("Denial Reason 3", "Denial Reason 2", "Denial Reason 1", "Co Applicant Race 5", "Co Applicant Race 4", "Co Applicant Race 3", "Co Applicant Race 2")) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
chicago_purchases <- chicago_purchases %>%
subset(select=-c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2')) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
chicago_purchases <- chicago_purchases %>%
select(-c(Denial Reason 3, Denial Reason 2)) %>%
chicago_purchases <- chicago_purchases %>%
select(-(Denial Reason 3, Denial Reason 2)) %>%
chicago_purchases <-
select(chicago_purchases, -c(Denial Reason 3, Denial Reason 2)) %>%
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2')) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2')) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2')) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2', 'Applicant Race 5', 'Applicant Race 4', 'Applicant Race 3', 'Applicant Race 2')) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2', 'Applicant Race 5', 'Applicant Race 4', 'Applicant Race 3', 'Applicant Race 2')) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2', 'Applicant Race 5', 'Applicant Race 4', 'Applicant Race 3', 'Applicant Race 2', 'Parent Name (Panel)', 'Top Holder Name')) %>%
mutate(census_tract_trimmed = str_sub(`Census Tract`,6,11))
summary(chicago_purchases$census_tract_trimmed)
chicago_purchases <- chicago_purchases %>% mutate(census_tract_trimmed = as.numeric(str_sub(`Census Tract`,6,11)))
summary(chicago_purchases$census_tract_trimmed)
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text") %>%
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2', 'Applicant Race 5', 'Applicant Race 4', 'Applicant Race 3', 'Applicant Race 2', 'Parent Name (Panel)', 'Top Holder Name'))
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
# Removing unnecessary columns to ease readability
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2', 'Applicant Race 5', 'Applicant Race 4', 'Applicant Race 3', 'Applicant Race 2', 'Parent Name (Panel)', 'Top Holder Name'))
View(chicago_purchases)
View(chicago_census_tracts)
?left_join
summary(chicago_census_tracts)
View(redlining_score)
chicago_purchases <- chicago_purchases %>%
mutate(census_tract = as.numeric(`Census Tract`))
chicago_purchases <- chicago_purchases %>%
mutate(census_tract = as.numeric(`Census Tract`)) %>%
left_join(redlining_score, by = c(census_tract, GEOID10))
chicago_purchases <- chicago_purchases %>%
mutate(census_tract = as.numeric(`Census Tract`)) %>%
left_join(redlining_score, by = c(census_tract, GEOID10))
chicago_purchases <- chicago_purchases %>%
mutate(census_tract = as.numeric(`Census Tract`)) %>%
left_join(redlining_score, census_tract, GEOID10)
chicago_purchases <- chicago_purchases %>%
mutate(census_tract = as.numeric(`Census Tract`))
?left_join
chicago_purchases <- chicago_purchases %>%
mutate(census_tract = as.numeric(`Census Tract`))
chicago_purchases <- chicago_purchases %>%
mutate(GEOID10 = as.numeric(`Census Tract`))
chicago_purchases <- chicago_purchases
left_join(redlining_score, by = GEOID10)
chicago_purchases_new <-
left_join(chicago_purchases, redlining_score, by = GEOID10)
chicago_purchases <-
left_join(redlining_score, by = "GEOID10")
chicago_purchases <- chicago_purchases %>%
left_join(redlining_score, by = "GEOID10")
chicago_purchases <- chicago_purchases %>%
mutate(GEOID10 = `Census Tract`)
chicago_purchases <- chicago_purchases %>%
left_join(redlining_score, by = "GEOID10")
chicago_purchases <- chicago_purchases %>%
left_join(redlining_score, by = "GEOID10")
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2', 'Applicant Race 5', 'Applicant Race 4', 'Applicant Race 3', 'Applicant Race 2', 'Parent Name (Panel)', 'Top Holder Name'))# Removing unnecessary columns to ease readability  %>%
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2', 'Applicant Race 5', 'Applicant Race 4', 'Applicant Race 3', 'Applicant Race 2', 'Parent Name (Panel)', 'Top Holder Name'))# Removing unnecessary columns to ease readability  %>%
mutate(GEOID10 = `Census Tract`) # changing column names for join
# WBEZ data portal
chicago_purchases <- read_excel("Chicago Purchase Orginations 2012-18_Public File.xlsx",
sheet = "Data",
col_types = "text")
# NRS
redlining_score <- read_excel("Historic Redlining Score 2010B.xlsx")
# City of Chicago data hub
chicago_census_tracts <- read_csv("CensusTractsTIGER2010.csv")
chicago_purchases <-
select(chicago_purchases, -c('Denial Reason 3', 'Denial Reason 2', 'Denial Reason 1', 'Co Applicant Race 5', 'Co Applicant Race 4', 'Co Applicant Race 3', 'Co Applicant Race 2', 'Applicant Race 5', 'Applicant Race 4', 'Applicant Race 3', 'Applicant Race 2', 'Parent Name (Panel)', 'Top Holder Name')) %>% # Removing unnecessary columns to ease readability
mutate(GEOID10 = `Census Tract`) # changing column names for join
chicago_purchases <- chicago_purchases %>%
left_join(redlining_score, by = "GEOID10")
